<!-- PRINCIPAL -->
<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Work Manager Profissional</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link rel="stylesheet" href="style.css">
   
</head>

<body>
    <!-- Sidebar Navigation -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="sidebar-logo" id="sidebarLogo">Work Manager</div>
            <button class="close-sidebar" id="closeSidebar">&times;</button>
        </div>
        <div class="sidebar-menu">
            <ul>
                <li>
                    <a href="#dashboard" class="nav-link active"><i class="fas fa-tachometer-alt"></i> Dashboard</a>
                </li>
                <li>
                    <a href="#registro" class="nav-link"><i class="fas fa-plus-circle"></i> Registrar Atividade</a>
                </li>
                <li>
                    <a href="#atividades" class="nav-link"><i class="fas fa-list"></i> Atividades</a>
                </li>
                <li>
                    <a href="#relatorios" class="nav-link"><i class="fas fa-chart-bar"></i> Relatórios</a>
                </li>
                <li>
                    <a href="#config" class="nav-link"><i class="fas fa-cog"></i> Configurações</a>
                </li>
                <li>
                    <a href="#backup" class="nav-link"><i class="fas fa-database"></i> Backup</a>
                </li>
            </ul>
        </div>
        <div class="sidebar-footer">Work Manager Profissional &copy; 2023</div>
    </div>

    <!-- Overlay for sidebar -->
    <div class="overlay" id="overlay"></div>

    <!-- Header -->
    <header>
        <div class="header-content">
            <button class="nav-toggle" id="navToggle">
                <i class="fas fa-bars"></i>
            </button>
            <div class="logo" id="mainLogo">Work Manager</div>
            <div class="user-avatar" id="userAvatar">U</div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container">
        <!-- Dashboard Section -->
        <section id="dashboard" class="section active">
            <h2><i class="fas fa-tachometer-alt"></i> Dashboard</h2>

            <div class="stats-grid">
                <div class="stat-card stat-card1 card01">
                    <div class="stat-label">
                        <i class="fas fa-boxes"></i> Produção Total
                    </div>
                    <div class="stat-value" id="totalProduction">0</div>
                </div>
                <div class="stat-card stat-card02 card02">
                    <div class="stat-label">
                        <i class="fas fa-times-circle"></i> Perdas Totais
                    </div>
                    <div class="stat-value" id="totalLosses">0</div>
                </div>
                <div class="stat-card stat-card03 card03">
                    <div class="stat-label">
                        <i class="fas fa-chart-line"></i> Eficiência
                    </div>
                    <div class="stat-value" id="efficiency">0%</div>
                </div>
                <div class="stat-card stat-card04 card04">
                    <div class="stat-label">
                        <i class="fas fa-calendar-day"></i> Atividades Hoje
                    </div>
                    <div class="stat-value" id="activitiesToday">0</div>
                </div>
            </div>

            <div class="card">
                <h3><i class="fas fa-chart-bar"></i> Produção vs Perdas</h3>
                <div class="chart-container">
                    <canvas id="productionChart"></canvas>
                </div>
            </div>

            <div class="card">
                <h3>
                    <i class="fas fa-exclamation-triangle"></i> Últimos Incidentes
                </h3>
                <ul class="incident-list" id="incidentList">
                    <!-- Incident items will be added here -->
                </ul>
            </div>
        </section>

        <!-- Activity Registration Section -->
        <section id="registro" class="section">
            <h2><i class="fas fa-plus-circle"></i> Registrar Nova Atividade</h2>

            <div class="card">
                <form id="activityForm">
                    <div class="form-group">
                        <label for="activityType"><i class="fas fa-tasks"></i> Tipo de Atividade</label>  
                        <select id="activityType" required>
                            <option value="">Selecione...</option>
                            <option value="Produção">Produção</option>
                            <option value="Manutenção">Assar Salgados</option>
                            <option value="Qualidade">Assar Pães</option>
                            <option value="Limpeza">Limpeza e Organização</option>
                            <option value="Outro">Outro</option>
                        </select>
                        
                    </div>

                    <div class="form-group">
                        <label for="productionQty"><i class="fas fa-box-open"></i> Quantidade Produzida</label>
                        <input type="number" id="productionQty" min="0" step="1" required />
                    </div>

                    <div class="form-group">
                        <label for="lossQty"><i class="fas fa-times-circle"></i> Quantidade de Perda (se
                            aplicável)</label>
                        <input type="number" id="lossQty" min="0" step="1" value="0" />
                    </div>

                    <div class="form-group">
                        <label for="lossType"><i class="fas fa-exclamation-circle"></i> Tipo de Perda (se
                            aplicável)</label>
                        <select id="lossType">
                            <option value="">Nenhuma perda</option>
                            <option value="Defeito">Defeito de Fabricação</option>
                            <option value="Matéria-prima">
                                Problema com Matéria-prima
                            </option>
                            <option value="Equipamento">Falha de Equipamento</option>
                            <option value="Humano">Erro Humano</option>
                            <option value="Outro">Outro</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="activityDate"><i class="far fa-calendar-alt"></i> Data e Hora</label>
                        <input type="datetime-local" id="activityDate" required />
                    </div>

                    <div class="form-group">
                        <label for="activityNotes"><i class="far fa-comment-alt"></i> Observações</label>
                        <textarea id="activityNotes" placeholder="Detalhes adicionais sobre a atividade..."></textarea>
                    </div>

                    <div class="form-group">
                        <label><i class="fas fa-camera"></i> Fotos (opcional)</label>
                        <div class="photo-capture-options">
                            <button type="button" class="btn" id="takePhotoBtn">
                                <i class="fas fa-camera"></i> Tirar Foto
                            </button>
                            <button type="button" class="btn" id="uploadPhotoBtn">
                                <i class="fas fa-upload"></i> Fazer Upload
                            </button>
                        </div>
                        <video id="cameraPreview" class="camera-preview" autoplay playsinline></video>
                        <div class="camera-controls" id="cameraControls" style="display: none">
                            <button type="button" class="btn btn-success" id="capturePhotoBtn">
                                <i class="fas fa-camera"></i> Capturar
                            </button>
                            <button type="button" class="btn btn-danger" id="cancelCameraBtn">
                                <i class="fas fa-times"></i> Cancelar
                            </button>
                        </div>
                        <input type="file" id="photoUpload" accept="image/*" multiple style="display: none" />
                        <div class="photo-preview" id="photoPreview"></div>
                    </div>

                    <button type="submit" class="btn btn-success btn-block">
                        <i class="fas fa-save"></i> Salvar Atividade
                    </button>
                </form>
            </div>
        </section>

        <!-- Activities Section -->
        <section id="atividades" class="section">
            <h2><i class="fas fa-list"></i> Todas as Atividades</h2>

            <div class="card">
                <div class="filter-bar">
                    <div class="filter-group">
                        <label for="tableFilterDate"><i class="far fa-calendar"></i> Data</label>
                        <input type="date" id="tableFilterDate" />
                    </div>
                    <div class="filter-group">
                        <label for="tableFilterType"><i class="fas fa-filter"></i> Tipo</label>
                        <select id="tableFilterType">
                            <option value="">Todos</option>
                            <option value="Produção">Produção</option>
                            <option value="Manutenção">Manutenção</option>
                            <option value="Qualidade">Controle de Qualidade</option>
                            <option value="Limpeza">Limpeza e Organização</option>
                            <option value="Outro">Outro</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="tableFilterLoss"><i class="fas fa-exclamation-triangle"></i> Perda</label>
                        <select id="tableFilterLoss">
                            <option value="">Todos</option>
                            <option value="with">Com Perda</option>
                            <option value="without">Sem Perda</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>&nbsp;</label>
                        <button class="btn btn-block" id="applyTableFilters">
                            <i class="fas fa-filter"></i> Aplicar
                        </button>
                    </div>
                </div>
            </div>

            <div class="card">
                <table class="data-table" id="activitiesTable">
                    <thead>
                        <tr>
                            <th>Data/Hora</th>
                            <th>Tipo</th>
                            <th>Produção</th>
                            <th>Perdas</th>
                            <th>Colaborador</th>
                            <th>Ações</th>
                        </tr>
                    </thead>
                    <tbody id="activitiesTableBody">
                        <!-- Table rows will be added here -->
                    </tbody>
                </table>

                <div class="empty-state" id="tableEmptyState" style="display: none">
                    <div><i class="fas fa-inbox"></i></div>
                    <h3>Nenhuma atividade encontrada</h3>
                    <p>Registre sua primeira atividade no botão abaixo</p>
                    <a href="#registro" class="btn nav-link add-reg">
                        <i class="fas fa-plus-circle add-reg-ico"></i> Registrar Atividade
                    </a>
                </div>
            </div>
        </section>

        <!-- Reports Section -->
        <section id="relatorios" class="section">
            <h2><i class="fas fa-chart-bar"></i> Relatórios</h2>

            <div class="card card-filtro">
                <h3><i class="fas fa-filter"></i> Filtros do Relatório</h3>
                <div class="report-filters">
                    <div class="form-group">
                        <label for="reportPeriod"><i class="fas fa-calendar"></i> Período</label>
                        <select id="reportPeriod">
                            <option value="today">Hoje</option>
                            <option value="week">Esta Semana</option>
                            <option value="month">Este Mês</option>
                            <option value="custom">Personalizado</option>
                        </select>
                    </div>

                    <div class="form-group" id="customDateRange" style="display: none">
                        <label for="startDate"><i class="fas fa-calendar-start"></i> Data Inicial</label>
                        <input type="date" id="startDate" />
                    </div>

                    <div class="form-group" id="customDateRangeEnd" style="display: none">
                        <label for="endDate"><i class="fas fa-calendar-end"></i> Data Final</label>
                        <input type="date" id="endDate" />
                    </div>

                    <div class="form-group">
                        <label for="reportType"><i class="fas fa-tasks"></i> Tipo de Atividade</label>
                        <select id="reportType">
                            <option value="">Todos</option>
                            <option value="Produção">Produção</option>
                            <option value="Manutenção">Manutenção</option>
                            <option value="Qualidade">Controle de Qualidade</option>
                            <option value="Limpeza">Limpeza e Organização</option>
                            <option value="Outro">Outro</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>&nbsp;</label>
                        <button class="btn btn-block" id="generateReport">
                            <i class="fas fa-file-pdf"></i> Gerar Relatório PDF
                        </button>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3><i class="fas fa-table"></i> Visualização Prévia</h3>
                <div id="reportPreview">
                    <p>
                        Selecione os filtros e clique em "Gerar Relatório" para visualizar
                        os dados.
                    </p>
                </div>
            </div>
        </section>

        <!-- Config Section -->
        <section id="config" class="section">
            <h2><i class="fas fa-cog"></i> Configurações</h2>

            <div class="card">
                <form id="configForm">
                    <div class="form-group">
                        <label for="employeeName"><i class="fas fa-user"></i> Nome do Colaborador</label>
                        <input type="text" id="employeeName" required />
                    </div>

                    <div class="form-group">
                        <label for="company"><i class="fas fa-building"></i> Empresa</label>
                        <input type="text" id="company" />
                    </div>

                    <div class="form-group">
                        <label for="department"><i class="fas fa-sitemap"></i> Departamento/Setor</label>
                        <input type="text" id="department" />
                    </div>

                    <div class="form-group">
                        <label for="language"><i class="fas fa-language"></i> Idioma</label>
                        <select id="language">
                            <option value="pt-BR">Português (Brasil)</option>
                            <option value="en">English</option>
                            <option value="es">Español</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="theme"><i class="fas fa-palette"></i> Tema</label>
                        <select id="theme">
                            <option value="light">Claro</option>
                            <option value="dark">Escuro</option>
                            <option value="auto">Automático (segue o sistema)</option>
                        </select>
                    </div>

                    <button type="submit" class="btn btn-success">
                        <i class="fas fa-save"></i> Salvar Configurações
                    </button>
                </form>
            </div>
        </section>

        <!-- Backup Section -->
        <section id="backup" class="section">
            <h2><i class="fas fa-database"></i> Backup e Restauração</h2>

            <div class="card">
                <h3><i class="fas fa-file-export"></i> Backup</h3>
                <p>
                    Faça o backup completo de todos os seus dados, incluindo fotos e
                    registros.
                </p>
                <button class="btn btn-success" id="createBackup">
                    <i class="fas fa-download"></i> Criar Backup Completo (ZIP)
                </button>
            </div>

            <div class="card">
                <h3><i class="fas fa-file-import"></i> Restauração</h3>
                <p>Restaurar dados a partir de um backup anterior.</p>
                <div class="form-group">
                    <label for="backupFile"><i class="fas fa-file-archive"></i> Arquivo de Backup</label>
                    <input type="file" id="backupFile" accept=".zip" />
                </div>
                <button class="btn btn-warning" id="restoreBackup">
                    <i class="fas fa-upload"></i> Restaurar Backup
                </button>
            </div>

            <div class="card">
                <h3><i class="fas fa-trash-alt"></i> Limpar Dados</h3>
                <p>
                    Remover todos os dados do sistema. Esta ação não pode ser desfeita.
                </p>
                <button class="btn btn-danger" id="clearData">
                    <i class="fas fa-trash"></i> Limpar Todos os Dados
                </button>
            </div>
        </section>
    </main>

    <!-- View Activity Modal -->
    <div class="modal" id="viewActivityModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Detalhes da Atividade</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body" id="activityModalBody">
                <!-- Activity details will be inserted here -->
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline close-modal">Fechar</button>
            </div>
        </div>
    </div>

    <!-- Photo Modal -->
    <div class="modal" id="photoModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Visualizar Foto</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body" id="photoModalBody">
                <!-- Photo will be inserted here -->
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline close-modal">Fechar</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js"></script>
    
</body>

</html>